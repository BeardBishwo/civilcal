[
  {
    "id": "TC001",
    "title": "User Calculator Navigation and Usage",
    "description": "Verify that a user can successfully navigate through dynamic dropdown menus on the home page to select and open calculators for Civil, Electrical, and HVAC service modules with correct display and no errors.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the user home page."
      },
      {
        "type": "action",
        "description": "Open the dynamic dropdown menu for calculator selection."
      },
      {
        "type": "action",
        "description": "Select a calculator under the Civil service module."
      },
      {
        "type": "assertion",
        "description": "Verify that the appropriate Civil calculator page loads without errors and all input fields are displayed correctly."
      },
      {
        "type": "action",
        "description": "Repeat selection of calculators for Electrical and HVAC modules."
      },
      {
        "type": "assertion",
        "description": "Verify each calculator page loads correctly, all relevant fields appear, and calculations perform as expected."
      },
      {
        "type": "action",
        "description": "Try selecting invalid or empty options in the dropdown if available."
      },
      {
        "type": "assertion",
        "description": "Verify the system handles selections gracefully without crashing or unexpected behavior."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Theme Upload, Validation, Activation, and Dynamic CSS Application",
    "description": "Test the full lifecycle in the theme management UI: upload a new theme, validate the upload, activate the theme, customize settings, and verify that dynamic CSS is applied on the front end.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in as administrator and navigate to /admin/themes."
      },
      {
        "type": "action",
        "description": "Upload a valid new theme ZIP file."
      },
      {
        "type": "assertion",
        "description": "Verify the system validates the theme manifest for required fields and structure."
      },
      {
        "type": "action",
        "description": "Attempt upload of an invalid theme ZIP missing manifest or with incorrect structure."
      },
      {
        "type": "assertion",
        "description": "Confirm the system rejects the upload and shows meaningful validation errors."
      },
      {
        "type": "action",
        "description": "Activate the successfully uploaded theme."
      },
      {
        "type": "assertion",
        "description": "Verify the theme is activated and confirmed in the UI."
      },
      {
        "type": "action",
        "description": "Customize theme settings such as colors or fonts and save changes."
      },
      {
        "type": "assertion",
        "description": "Reload the home page and verify dynamic CSS from the active theme is applied correctly."
      },
      {
        "type": "action",
        "description": "Preview themes without activation to verify preview functionality."
      },
      {
        "type": "assertion",
        "description": "Ensure preview loads the temporary theme styling without affecting active theme."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Plugin Upload, Manifest Validation, Activation Toggle, Deletion, and Refresh",
    "description": "Verify plugin management including the ability to upload plugins with manifest validation, toggle activation states, delete plugins, and refresh plugin states without errors.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in as administrator and navigate to plugin management section."
      },
      {
        "type": "action",
        "description": "Upload a valid plugin ZIP file containing a correct manifest."
      },
      {
        "type": "assertion",
        "description": "Confirm manifest validation passes and the plugin appears in the list."
      },
      {
        "type": "action",
        "description": "Try uploading a plugin with malformed manifest or missing fields."
      },
      {
        "type": "assertion",
        "description": "Confirm manifest validation fails and error messages are shown."
      },
      {
        "type": "action",
        "description": "Toggle activation status of the uploaded plugin on and off."
      },
      {
        "type": "assertion",
        "description": "Verify the system correctly updates plugin state with no errors or side effects."
      },
      {
        "type": "action",
        "description": "Delete the uploaded plugin."
      },
      {
        "type": "assertion",
        "description": "Verify the plugin is removed completely from the system and plugin list."
      },
      {
        "type": "action",
        "description": "Use the plugin refresh function."
      },
      {
        "type": "assertion",
        "description": "Confirm the plugin list refreshes correctly reflecting current plugins and states."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Backup Creation, Export, Restore, and Download Verification",
    "description": "Test backup and restoration capabilities by creating backups, exporting them, restoring system state from backups, and downloading backup files successfully.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in as administrator and navigate to /admin/help for backup management."
      },
      {
        "type": "action",
        "description": "Create a full system backup including database dump and theme/plugin assets."
      },
      {
        "type": "assertion",
        "description": "Verify backup file is generated with expected contents (db.sql, themes, plugins)."
      },
      {
        "type": "action",
        "description": "Download the created backup file."
      },
      {
        "type": "assertion",
        "description": "Confirm the backup file downloads completely and is not corrupted."
      },
      {
        "type": "action",
        "description": "Make changes to system state (e.g., activate different theme or plugin)."
      },
      {
        "type": "action",
        "description": "Restore the system from the previously created backup."
      },
      {
        "type": "assertion",
        "description": "Verify the system state returns exactly to the backed-up configuration and data."
      },
      {
        "type": "action",
        "description": "Attempt restoration from an invalid or corrupted backup file."
      },
      {
        "type": "assertion",
        "description": "Confirm the system handles the error gracefully and refuses restoration."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Audit Log Viewing with Filtering and Download",
    "description": "Validate audit log functionality including loading the audit logs page, applying various filter criteria to logs, and downloading selected log files correctly.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Log in as administrator and go to /admin/audit-logs."
      },
      {
        "type": "action",
        "description": "Load the audit log viewer."
      },
      {
        "type": "assertion",
        "description": "Verify logs display correctly with structured format and pagination if applicable."
      },
      {
        "type": "action",
        "description": "Apply filters such as date range, user actions, and event types."
      },
      {
        "type": "assertion",
        "description": "Confirm the displayed logs match filter criteria accurately."
      },
      {
        "type": "action",
        "description": "Select logs and download the filtered log files."
      },
      {
        "type": "assertion",
        "description": "Verify files download fully and can be opened with expected log content."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Admin POST Routes Protection with Rate Limiting and CSRF Tokens",
    "description": "Test all administrative POST routes to ensure they enforce CSRF protection and rate limiting to prevent abuse and unauthorized access.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Identify key admin POST routes such as theme uploads, plugin uploads, backup creation, etc."
      },
      {
        "type": "action",
        "description": "Send POST requests to these endpoints without CSRF tokens."
      },
      {
        "type": "assertion",
        "description": "Verify requests are rejected with appropriate security errors."
      },
      {
        "type": "action",
        "description": "Send POST requests with valid CSRF tokens."
      },
      {
        "type": "assertion",
        "description": "Verify requests succeed as expected."
      },
      {
        "type": "action",
        "description": "Send repeated POST requests rapidly to trigger rate limiting."
      },
      {
        "type": "assertion",
        "description": "Confirm further requests are blocked with rate limit errors after threshold is exceeded."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Structured Logging of General and Audit Events",
    "description": "Verify that both general system events and audit-specific records are logged in a structured format consistent with requirements to ensure traceability.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Perform general system actions such as user logins, calculator usage, and theme changes."
      },
      {
        "type": "assertion",
        "description": "Check general logs contain structured entries with accurate timestamps and event descriptions."
      },
      {
        "type": "action",
        "description": "Perform audit-relevant actions such as admin changes, plugin installations, and backup operations."
      },
      {
        "type": "assertion",
        "description": "Verify audit logs capture these events with necessary detail for audit trails."
      },
      {
        "type": "action",
        "description": "Review log file formats and consistency."
      },
      {
        "type": "assertion",
        "description": "Ensure logs adhere to the structured format specified."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "API v1 Health Endpoint Reliability and Correct Response Format",
    "description": "Validate that the API v1 health endpoint (/api/v1/health) consistently responds with HTTP 200 status and returns valid JSON confirming system availability.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Send a GET request to /api/v1/health."
      },
      {
        "type": "assertion",
        "description": "Verify the response status code is 200 OK."
      },
      {
        "type": "assertion",
        "description": "Confirm the response body is valid JSON containing expected health status details."
      },
      {
        "type": "action",
        "description": "Simulate system component failures (e.g., database down) if possible."
      },
      {
        "type": "assertion",
        "description": "Confirm the health endpoint responds appropriately indicating degraded or unhealthy status."
      }
    ]
  }
]
