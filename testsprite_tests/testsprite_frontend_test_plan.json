[
  {
    "id": "TC001",
    "title": "User Calculator Navigation and Opening",
    "description": "Verify that a user can navigate the home page dropdown, select a service module calculator, and open the calculator page correctly without errors.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the user home page."
      },
      {
        "type": "action",
        "description": "Locate the dynamic dropdown menu for service module calculators."
      },
      {
        "type": "action",
        "description": "Select a calculator from the Civil module and click to open it."
      },
      {
        "type": "assertion",
        "description": "Verify the calculator page loads correctly for Civil."
      },
      {
        "type": "action",
        "description": "Repeat selection and opening for Electrical and HVAC calculators."
      },
      {
        "type": "assertion",
        "description": "Verify calculators from Electrical and HVAC open and display properly without errors."
      },
      {
        "type": "action",
        "description": "Select a calculator and rapidly change selections multiple times."
      },
      {
        "type": "assertion",
        "description": "Verify system handles rapid navigation without crashes or display glitches."
      },
      {
        "type": "action",
        "description": "Attempt to select a non-existent calculator via URL manipulation."
      },
      {
        "type": "assertion",
        "description": "Verify appropriate error message or redirect is shown."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Theme Upload and Validation",
    "description": "Ensure that uploading a new theme validates the input properly, rejects invalid themes, and accepts valid themes.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /admin/themes."
      },
      {
        "type": "action",
        "description": "Upload a valid theme package file."
      },
      {
        "type": "assertion",
        "description": "Verify theme validation passes and theme is listed with a preview option."
      },
      {
        "type": "action",
        "description": "Upload an invalid theme package file (missing manifest or incorrect structure)."
      },
      {
        "type": "assertion",
        "description": "Verify validation fails with clear error messages."
      },
      {
        "type": "action",
        "description": "Upload a corrupt or truncated theme package."
      },
      {
        "type": "assertion",
        "description": "Verify system rejects upload and does not cause server errors."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Theme Activation and Dynamic CSS Application",
    "description": "Validate that activating a theme applies its CSS/styles dynamically across the application without page reload bugs.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Upload and validate a new theme."
      },
      {
        "type": "action",
        "description": "Activate the newly uploaded theme."
      },
      {
        "type": "assertion",
        "description": "Verify dynamic CSS from the activated theme is applied on multiple pages (home, admin, user calculators)."
      },
      {
        "type": "action",
        "description": "Deactivate the theme and activate the default theme."
      },
      {
        "type": "assertion",
        "description": "Verify the UI styling reverts correctly."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Theme Customization and Settings Persistence",
    "description": "Check the customization interface for themes allows changing properties and settings are saved and reflected on UI.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Access theme customization in /admin/themes with an active theme."
      },
      {
        "type": "action",
        "description": "Modify a theme setting (e.g. primary color, font size)."
      },
      {
        "type": "action",
        "description": "Save settings."
      },
      {
        "type": "assertion",
        "description": "Confirm settings are saved and correct CSS changes are applied dynamically."
      },
      {
        "type": "action",
        "description": "Reload page and verify customized settings persist."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Plugin Upload and Manifest Validation",
    "description": "Verify plugin uploads are accepted only if manifest files are valid and properly structured; invalid manifests produce errors.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to plugin management interface."
      },
      {
        "type": "action",
        "description": "Upload a plugin package containing a valid manifest file."
      },
      {
        "type": "assertion",
        "description": "Ensure plugin is listed as uploaded and ready for activation."
      },
      {
        "type": "action",
        "description": "Upload a plugin package missing the manifest file."
      },
      {
        "type": "assertion",
        "description": "Verify upload is rejected with clear error message."
      },
      {
        "type": "action",
        "description": "Upload a plugin with a malformed or incompatible manifest."
      },
      {
        "type": "assertion",
        "description": "Confirm system rejects and does not cause backend errors."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Plugin Activation Toggle and Deletion",
    "description": "Test toggling plugin activation status and deleting plugins reflect correctly in system behavior and UI.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Upload a valid plugin."
      },
      {
        "type": "action",
        "description": "Activate the uploaded plugin."
      },
      {
        "type": "assertion",
        "description": "Verify plugin functionality is enabled and UI states reflect activation."
      },
      {
        "type": "action",
        "description": "Deactivate the plugin."
      },
      {
        "type": "assertion",
        "description": "Verify plugin functionality is disabled without errors."
      },
      {
        "type": "action",
        "description": "Delete the plugin."
      },
      {
        "type": "assertion",
        "description": "Confirm plugin is removed from the list and any related resources cleaned."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Backup Creation and Download",
    "description": "Verify the backup system creates complete backups of database and assets, and backup files can be downloaded correctly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /admin/help backup section."
      },
      {
        "type": "action",
        "description": "Initiate creation of a full system backup."
      },
      {
        "type": "assertion",
        "description": "Verify backup completes without errors and a backup file (db.sql and assets) is available."
      },
      {
        "type": "action",
        "description": "Download the backup file."
      },
      {
        "type": "assertion",
        "description": "Verify the downloaded backup archive is complete and not corrupted."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Backup Restore Functionality",
    "description": "Test restoring the system from backup returns all system data and state to the exact backed-up version without data loss or corruption.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create a full system backup."
      },
      {
        "type": "action",
        "description": "Make changes to themes, plugins, and calculator data."
      },
      {
        "type": "action",
        "description": "Use the restore functionality from the previously created backup."
      },
      {
        "type": "assertion",
        "description": "Verify system state reverts fully to backup state including themes, plugins, and data."
      },
      {
        "type": "action",
        "description": "Attempt to restore from a corrupted or incomplete backup file."
      },
      {
        "type": "assertion",
        "description": "Verify system rejects restore and shows an appropriate error message without crashing."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Audit Log Filtering and Download",
    "description": "Check that audit log viewer can filter logs by multiple criteria and download filtered logs correctly without data loss.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /admin/audit-logs."
      },
      {
        "type": "action",
        "description": "Apply date range, user, and event type filters on audit logs."
      },
      {
        "type": "assertion",
        "description": "Verify displayed logs match applied filters."
      },
      {
        "type": "action",
        "description": "Download the filtered audit logs."
      },
      {
        "type": "assertion",
        "description": "Verify the downloaded log file matches the filtered results and is not corrupted."
      },
      {
        "type": "action",
        "description": "Apply invalid or edge filter values (e.g. future dates, incorrect fields)."
      },
      {
        "type": "assertion",
        "description": "Verify system handles gracefully and returns empty or valid results without error."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Rate Limiting and CSRF Protection on Admin POST Routes",
    "description": "Verify that administrative POST routes enforce rate limiting to prevent abuse and CSRF tokens to ensure request security.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Perform consecutive POST requests to an admin endpoint (e.g., theme activation) exceeding rate limit threshold."
      },
      {
        "type": "assertion",
        "description": "Verify additional requests are blocked with appropriate error or status code."
      },
      {
        "type": "action",
        "description": "Send a POST request without a valid CSRF token."
      },
      {
        "type": "assertion",
        "description": "Verify request is rejected and does not perform any action."
      },
      {
        "type": "action",
        "description": "Send a POST request with a valid CSRF token."
      },
      {
        "type": "assertion",
        "description": "Verify request proceeds successfully."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Structured Logging and Audit Logs Integrity",
    "description": "Confirm that general and audit logs are structured properly, contain required fields, and record critical events for later review.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Trigger system events such as theme activation, plugin toggling, backups, and user calculator navigation."
      },
      {
        "type": "assertion",
        "description": "Verify event entries appear in logs with expected structured fields (timestamps, user, action, details)."
      },
      {
        "type": "action",
        "description": "Review audit logs specifically for security or config change events."
      },
      {
        "type": "assertion",
        "description": "Verify audit logs include complete and accurate event data."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "API Health Endpoint Response",
    "description": "Validate that API v1 health endpoint responds reliably with correct status and JSON content.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Send a GET request to /api/v1/health."
      },
      {
        "type": "assertion",
        "description": "Verify response status is HTTP 200 OK."
      },
      {
        "type": "assertion",
        "description": "Verify JSON response contains expected health status fields indicating system availability."
      },
      {
        "type": "action",
        "description": "Simulate system issues (e.g. disable database briefly) and request /api/v1/health."
      },
      {
        "type": "assertion",
        "description": "Verify response correctly indicates degraded or unavailable system status."
      }
    ]
  }
]
