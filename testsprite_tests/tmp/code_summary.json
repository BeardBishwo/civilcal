{
  "tech_stack": [
    "PHP 8.3",
    "Custom MVC Framework",
    "MySQL",
    "Apache/Nginx",
    "Session-based Authentication",
    "Intervention Image Library",
    "PHPMailer",
    "Stripe Payment",
    "PayTMLibrary",
    "QR Code Generation",
    "PDF Generation (FPDF/MPDF/TCPDF)",
    "Monolog Logging",
    "File Upload/Download",
    "QR Code Reader",
    "Guardian Anti-Malware",
    "Carbon DateTime"
  ],
  "features": [
    {
      "name": "Authentication API",
      "description": "Handles user login, registration, forgot password, logout, profile management, and 2FA",
      "files": [
        "api/login.php",
        "api/register.php",
        "api/forgot-password.php",
        "api/logout.php",
        "api/profile.php",
        "api/check-username.php",
        "api/test-notifications.php",
        "app/Controllers/AuthController.php",
        "app/Controllers/ApiController.php",
        "app/Controllers/UserController.php",
        "app/Controllers/TwoFactorController.php",
        "app/Models/User.php"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {
          "title": "Authentication API",
          "version": "1.0.0",
          "description": "API endpoints for user authentication and account management"
        },
        "paths": {
          "/api/login": {
            "post": {
              "summary": "User login",
              "parameters": [
                {
                  "name": "username_email",
                  "in": "formData",
                  "required": true,
                  "schema": { "type": "string" }
                },
                {
                  "name": "password",
                  "in": "formData",
                  "required": true,
                  "schema": { "type": "string" }
                }
              ],
              "responses": {
                "200": { "description": "Login successful" },
                "401": { "description": "Invalid credentials" }
              }
            }
          },
          "/api/register": {
            "post": {
              "summary": "User registration",
              "parameters": [
                {
                  "name": "username",
                  "in": "formData",
                  "required": true,
                  "schema": { "type": "string" }
                },
                {
                  "name": "email",
                  "in": "formData",
                  "required": true,
                  "schema": { "type": "string", "format": "email" }
                },
                {
                  "name": "password",
                  "in": "formData",
                  "required": true,
                  "schema": { "type": "string" }
                }
              ],
              "responses": {
                "200": { "description": "Registration successful" },
                "400": { "description": "Validation error" }
              }
            }
          },
          "/api/logout": {
            "post": {
              "summary": "User logout",
              "responses": {
                "200": { "description": "Logout successful" }
              }
            }
          }
        }
      }
    },
    {
      "name": "Calculator API",
      "description": "Provides engineering and traditional unit calculators for multiple disciplines",
      "files": [
        "api/calculator/index.php",
        "app/Controllers/CalculatorController.php",
        "app/Controllers/ApiController.php",
        "app/Calculators/BaseCalculator.php",
        "app/Calculators/CivilCalculator.php",
        "app/Calculators/ElectricalCalculator.php",
        "app/Calculators/HvacCalculator.php",
        "app/Calculators/PlumbingCalculator.php",
        "app/Calculators/TraditionalUnitsCalculator.php"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {
          "title": "Calculator API",
          "version": "1.0.0",
          "description": "API for various engineering calculations"
        },
        "paths": {
          "/api/calculate": {
            "post": {
              "summary": "Perform calculation",
              "parameters": [
                {
                  "name": "calculator",
                  "in": "query",
                  "required": true,
                  "schema": { "type": "string" }
                },
                {
                  "name": "parameters",
                  "in": "body",
                  "schema": { "type": "object" }
                }
              ],
              "responses": {
                "200": { "description": "Calculation result" },
                "400": { "description": "Invalid parameters" }
              }
            }
          }
        }
      }
    },
    {
      "name": "Admin Dashboard API",
      "description": "Administrative functions including user management, system settings, plugins, themes",
      "files": [
        "api/admin/dashboard.php",
        "api/admin/settings.php",
        "app/Controllers/Admin/",
        "app/Core/AdminModule.php",
        "app/Models/AuditLog.php",
        "app/Models/ActivityLog.php"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {
          "title": "Admin API",
          "version": "1.0.0",
          "description": "Administrative API endpoints"
        },
        "paths": {
          "/api/admin/dashboard/stats": {
            "get": {
              "summary": "Get dashboard statistics",
              "responses": {
                "200": { "description": "Dashboard stats" }
              }
            }
          }
        }
      }
    },
    {
      "name": "History & Export API",
      "description": "User calculation history management and export functionality",
      "files": [
        "app/Controllers/HistoryController.php",
        "app/Controllers/DataExportController.php",
        "app/Controllers/ExportController.php",
        "app/Models/Calculation.php"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {
          "title": "History & Export API",
          "version": "1.0.0",
          "description": "Calculation history and export features"
        },
        "paths": {
          "/api/calculations": {
            "get": {
              "summary": "Get user calculations",
              "responses": {
                "200": { "description": "List of calculations" }
              }
            }
          }
        }
      }
    },
    {
      "name": "File Upload/Download",
      "description": "Handles file operations including profile uploads, exports, backups",
      "files": [
        "app/Controllers/ProfileImageController.php",
        "app/Controllers/DataExportController.php",
        "app/Helpers/ImageHelper.php",
        "storage/uploads/",
        "storage/exports/"
      ]
    },
    {
      "name": "Notification & Email System",
      "description": "Email notifications, templates, and notification management",
      "files": [
        "app/Controllers/Admin/EmailManagerController.php",
        "app/Controllers/Admin/NotificationController.php",
        "app/Services/EmailManager.php",
        "config/mail.php",
        "utils/notification_system_comprehensive_fix.php"
      ]
    },
    {
      "name": "Payment Integration",
      "description": "Integration with Stripe and PayTM for subscription payments",
      "files": [
        "app/Controllers/PaymentController.php",
        "app/Libraries/PayTMLibrary.php",
        "composer.json"
      ]
    },
    {
      "name": "Database Connectivity",
      "description": "Database layer with connection pooling and schema management",
      "files": [
        "app/Core/Database.php",
        "app/Core/EnhancedDatabase.php",
        "app/Core/PDOCompat.php",
        "config/database.php",
        "database/"
      ]
    },
    {
      "name": "Security & Validation",
      "description": "CSRF protection, rate limiting, data validation, logging",
      "files": [
        "app/Middleware/CsrfMiddleware.php",
        "app/Middleware/RateLimitMiddleware.php",
        "app/Middleware/SecurityMiddleware.php",
        "app/Core/Validator.php",
        "app/Models/AuditLog.php"
      ]
    },
    {
      "name": "Health Check & Monitoring",
      "description": "System health monitoring, error logging, and status checks",
      "files": [
        "debug/",
        "storage/logs/",
        "app/Controllers/Admin/SystemStatusController.php"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/v1/health": {
            "get": {
              "summary": "System health check",
              "responses": {
                "200": { "description": "System healthy" }
              }
            }
          }
        }
      }
    }
  ]
}
